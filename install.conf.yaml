- defaults:
    link:
      relink: true
      force: true

- clean: [ '~' ]

- create:
  - ~/.aws
  - ~/Code

- link:
    ~/.aws/base-creds: aws-base-creds
    ~/aws-profile.sh: aws-profile.sh
    ~/.zshrc: zshrc.sh
    ~/.gitconfig: gitconfig
    ~/.iterm.json: iterm.json
    ~/.iterm.itermkeymap: iterm.itermkeymap
    ~/.ssh/config: ssh_config
    ~/.npmrc: npmrc

- sudo:
  - link:
      /etc/hosts: hosts

- shell:
  - [ git submodule update --init --recursive, Installing submodules ]
  - command: ./fonts.sh
    stdin: true
    stdout: true
    stderr: true
  - command: which brew || /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    stdin: true
    stdout: true
    stderr: true
  - command: ./brew.sh
    stdin: true
    stdout: true
    stderr: true
